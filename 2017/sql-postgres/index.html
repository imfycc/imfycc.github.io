<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <meta name="keywords" content="èƒ¡æ–¹è¿,å°çŒ¿å¤§åœ£,ç¼–ç¨‹,ç¨‹åºå‘˜,ä¸ªäººåšå®¢,Youthink,imfycc,Web" />
  <meta name="description" content="å°çŒ¿å¤§åœ£çš„ä¸ªäººåšå®¢,èƒ¡æ–¹è¿çš„åšå®¢,ç¼–ç¨‹éšæƒ³" />
  <meta http-equiv="x-dns-prefetch-control" content="on">
  <link rel="dns-prefetch" href="https://busuanzi.ibruce.info">
  
  <link rel="dns-prefetch" href="https://hm.baidu.com/">
  
  
  <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">
  <link rel="dns-prefetch" href="https://api.github.com">
  <link rel="dns-prefetch" href="https://avatars3.githubusercontent.com">
  
  <link rel="stylesheet" type="text/css" href="/./style/main.b5295b.css">
  <link rel="shortcut icon" href="https://static.hufangyun.com/favicon.ico" title="Favicon">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
  <title>ã€éšç”¨éšæŸ¥ã€‘PostgreSQL å®è·µç¬”è®°</title>
  
  <script>var _hmt=_hmt||[];(function(){var hm=document.createElement("script");hm.src="https://hm.baidu.com/hm.js?279edd956f5d814ddf08af30b654b4c6";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(hm,s);})();
  </script>
  
  <meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="èƒ¡æ–¹è¿çš„åšå®¢" type="application/rss+xml">
</head>
<body>
<canvas id="pattern-placeholder" height="230"></canvas>
<div class="navbar-header">
  <a class="blog-title" href="/">èƒ¡æ–¹è¿çš„åšå®¢</a>
  <a class="face-img" href="/">
    <img src="https://static.hufangyun.com/face-small.png">
  </a>
</div>
<main>
  <div class="article-title">
    
  
  <h1 class="title">
    ã€éšç”¨éšæŸ¥ã€‘PostgreSQL å®è·µç¬”è®°
  </h1>
  


    <ul class="article-info">
      <li>
        å‘å¸ƒ
        <time datetime="2017-10-30T14:24:45.000Z" itemprop="datePublished">2017-10-30</time>
      </li>
      <li>
        
    æ›´æ–° <time datetime="2019-12-01T16:00:00.000Z" itemprop="dateUpdated">2019-12-02</time>

      </li>
      <li id="busuanzi_container_page_pv">
        é˜…è¯» <span id="busuanzi_value_page_pv"></span>
      </li>
    </ul>
  </div>
  <div class="container">
    <div class="article">
      <div class="content">
        
        <blockquote>
<p>æœ¬æ–‡è®°å½•äº† <code>PostgreSQL</code> åŸºæœ¬æ“ä½œï¼Œå…¥é—¨çš„ <code>SQL</code> è¯­å¥ä»¥åŠé«˜é˜¶çš„è”è¡¨æŸ¥è¯¢ç­‰å†…å®¹ã€‚æœ¬æ–‡è‡ªç”¨ï¼Œæ—¶å¸¸æ›´æ–°ã€‚<code>PostgreSQL</code> å’Œ <code>MySQL</code> çš„ <code>SQL</code> è¯­å¥åŸºæœ¬ç›¸åŒï¼Œåº”è¯¥é€‰æ‹©å“ªä¸ªï¼Ÿå¯ä»¥å‚è€ƒæ–‡æœ«çš„<a href="#æ‰©å±•é˜…è¯»">æ‰©å±•é˜…è¯»</a>ã€‚</p>
</blockquote>
<img src="https://static.hufangyun.com/hexo/img/sql-postgresql.png?imageView2/2/w/600">

<h2 id="æ–‡æ¡£"><a href="#æ–‡æ¡£" class="headerlink" title="æ–‡æ¡£"></a>æ–‡æ¡£</h2><p><a href="https://pg.sjk66.com/" target="_blank" rel="noopener">PostgreSQLè½»æ¾å­¦</a></p>
<p><a href="http://www.w3school.com.cn/sql/sql_func_format.asp" target="_blank" rel="noopener">w3schoolSQLæ•™ç¨‹</a></p>
<p><a href="https://www.postgresql.org/docs/9.6/static/reference.html" target="_blank" rel="noopener">PostgreSQL è‹±æ–‡æ–‡æ¡£</a></p>
<p><a href="http://wiki.jikexueyuan.com/project/sql/" target="_blank" rel="noopener">æå®¢å­¦é™¢SQLæ•™ç¨‹</a></p>
<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><h3 id="macOS"><a href="#macOS" class="headerlink" title="macOS"></a>macOS</h3><p><code>macOS</code> ä¸Šå¯ä»¥ä½¿ç”¨ <code>brew</code> å®‰è£…</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">brew install postgres</span><br></pre></td></tr></table></figure>

<h3 id="Ubuntu"><a href="#Ubuntu" class="headerlink" title="Ubuntu"></a>Ubuntu</h3><p>å®‰è£…</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo apt install postgresql-11</span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹çŠ¶æ€</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo systemctl status postgresql</span><br></pre></td></tr></table></figure>

<p>åˆ‡æ¢ç”¨æˆ·</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo -i -u postgres</span><br><span class="line">psql</span><br></pre></td></tr></table></figure>

<h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><p><a href="http://blog.everlose.com/mac-homebrew-postgresql.html" target="_blank" rel="noopener">Mac ä¸‹ä½¿ç”¨ homebrew å®‰è£… postgresql åŠé…ç½®</a> </p>
<h5 id="mac-å¯åŠ¨-postgreSQL-æœåŠ¡"><a href="#mac-å¯åŠ¨-postgreSQL-æœåŠ¡" class="headerlink" title="mac å¯åŠ¨ postgreSQL æœåŠ¡"></a>mac å¯åŠ¨ postgreSQL æœåŠ¡</h5><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">pg_ctl -D /usr/local/var/postgres start</span><br><span class="line"></span><br><span class="line">or</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> æœåŠ¡åœ¨åå°è¿è¡Œ</span></span><br><span class="line">brew services start postgresql</span><br></pre></td></tr></table></figure>
<h5 id="è¿æ¥è¿œç¨‹æ•°æ®åº“"><a href="#è¿æ¥è¿œç¨‹æ•°æ®åº“" class="headerlink" title="è¿æ¥è¿œç¨‹æ•°æ®åº“"></a>è¿æ¥è¿œç¨‹æ•°æ®åº“</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">psql -h IPæˆ–è€…ä¸»æœºåœ°å€ -p ç«¯å£ -U ç”¨æˆ· -d æ•°æ®åº“</span><br><span class="line"></span><br><span class="line">psql -h 117.12.116.18 -p 5432 -U web -d test</span><br></pre></td></tr></table></figure>
<h5 id="æ§åˆ¶å°å‘½ä»¤"><a href="#æ§åˆ¶å°å‘½ä»¤" class="headerlink" title="æ§åˆ¶å°å‘½ä»¤"></a>æ§åˆ¶å°å‘½ä»¤</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">\hï¼šæŸ¥çœ‹SQLå‘½ä»¤çš„è§£é‡Šï¼Œæ¯”å¦‚\h selectã€‚</span><br><span class="line">\?ï¼šæŸ¥çœ‹psqlå‘½ä»¤åˆ—è¡¨ã€‚</span><br><span class="line">\lï¼šåˆ—å‡ºæ‰€æœ‰æ•°æ®åº“ã€‚</span><br><span class="line">\c [database_name]ï¼šè¿æ¥å…¶ä»–æ•°æ®åº“ã€‚</span><br><span class="line">\dï¼šåˆ—å‡ºå½“å‰æ•°æ®åº“çš„æ‰€æœ‰è¡¨æ ¼ã€‚</span><br><span class="line">\d [table_name]ï¼šåˆ—å‡ºæŸä¸€å¼ è¡¨æ ¼çš„ç»“æ„(åŒ…å«ç´¢å¼•)ã€‚</span><br><span class="line">\duï¼šåˆ—å‡ºæ‰€æœ‰ç”¨æˆ·ã€‚</span><br><span class="line">\qï¼šé€€å‡ºæ•°æ®åº“ã€‚</span><br><span class="line">\conninfoï¼šåˆ—å‡ºå½“å‰æ•°æ®åº“å’Œè¿æ¥çš„ä¿¡æ¯ã€‚</span><br></pre></td></tr></table></figure>
<h5 id="æ•°æ®æ“ä½œ"><a href="#æ•°æ®æ“ä½œ" class="headerlink" title="æ•°æ®æ“ä½œ"></a>æ•°æ®æ“ä½œ</h5><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºæ•°æ®åº“</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> <span class="keyword">name</span>;</span><br><span class="line"><span class="comment"># åˆ›å»ºæ–°è¡¨ </span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="keyword">users</span> (<span class="keyword">name</span> <span class="built_in">VARCHAR</span>(<span class="number">20</span>), signup_date <span class="built_in">DATE</span>);</span><br><span class="line"><span class="comment"># æ’å…¥æ•°æ® </span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">users</span>(<span class="keyword">name</span>, signup_date) <span class="keyword">VALUES</span>(<span class="string">'å°çŒ¿å¤§åœ£'</span>, <span class="string">'2017-01-15'</span>);</span><br><span class="line"><span class="comment"># é€‰æ‹©è®°å½• </span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">users</span>;</span><br><span class="line"><span class="comment"># æ›´æ–°æ•°æ® </span></span><br><span class="line"><span class="keyword">UPDATE</span> <span class="keyword">users</span> <span class="keyword">set</span> <span class="keyword">name</span> = <span class="string">'å°çŒ¿å¤§åœ£'</span> <span class="keyword">WHERE</span> <span class="keyword">name</span> = <span class="string">'å°çŒ¿å¤§åœ£'</span>;</span><br><span class="line"><span class="comment"># åˆ é™¤è®°å½• </span></span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> <span class="keyword">users</span> <span class="keyword">WHERE</span> <span class="keyword">name</span> = <span class="string">'å°çŒ¿å¤§åœ£'</span> ;</span><br><span class="line"><span class="comment"># æ·»åŠ æ ä½ </span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="keyword">users</span> <span class="keyword">ADD</span> email <span class="built_in">VARCHAR</span>(<span class="number">40</span>);</span><br><span class="line"><span class="comment"># æ›´æ–°ç»“æ„ </span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="keyword">users</span> <span class="keyword">ALTER</span> <span class="keyword">COLUMN</span> signup_date <span class="keyword">SET</span> <span class="keyword">NOT</span> <span class="literal">NULL</span>;</span><br><span class="line"><span class="comment"># æ›´åæ ä½ </span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="keyword">users</span> <span class="keyword">RENAME</span> <span class="keyword">COLUMN</span> signup_date <span class="keyword">TO</span> signup;</span><br><span class="line"><span class="comment"># åˆ é™¤æ ä½ </span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="keyword">users</span> <span class="keyword">DROP</span> <span class="keyword">COLUMN</span> email;</span><br><span class="line"><span class="comment"># åˆ é™¤è¡¨æ ¼ </span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> backups;</span><br><span class="line"><span class="comment"># åˆ é™¤æ•°æ®ï¼Œé€Ÿåº¦å¿«ï¼Œä¼šä¿ç•™è¡¨ç»“æ„</span></span><br><span class="line"><span class="keyword">TRUNCATE</span> <span class="keyword">TABLE</span> tablename;</span><br><span class="line"><span class="comment"># åˆ é™¤æ•°æ®ä»¥åŠå¤–é”®</span></span><br><span class="line"><span class="keyword">TRUNCATE</span> <span class="keyword">TABLE</span> tablename <span class="keyword">CASCADE</span>;</span><br><span class="line"><span class="comment"># æ±‚å¹³å‡å€¼</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">AVG</span>(helper) <span class="keyword">FROM</span> games;</span><br><span class="line"><span class="comment"># æ±‚æœ€å¤§å€¼</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">MAX</span>(helper_num) <span class="keyword">FROM</span> games;</span><br><span class="line"><span class="comment"># æ±‚æ•°é‡ä¸é‡å¤</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">COUNT</span>(<span class="keyword">DISTINCT</span> open_id) <span class="keyword">FROM</span> games;</span><br><span class="line"><span class="comment"># æ±‚å’Œ</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">SUM</span>(amount) <span class="keyword">FROM</span> games; </span><br><span class="line"><span class="comment"># æ¨¡ç³ŠæŸ¥è¯¢</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">users</span> <span class="keyword">WHERE</span> <span class="keyword">name</span> <span class="keyword">LIKE</span> <span class="string">'å°çŒ¿å¤§%'</span>;</span><br><span class="line"><span class="comment"># æ’åº ASC å‡åº é»˜è®¤ï¼ŒDESC é™åº</span></span><br><span class="line"><span class="keyword">SELECT</span> c1, c2 <span class="keyword">FROM</span> tbl_name <span class="keyword">ORDER</span> <span class="keyword">BY</span> c1 <span class="keyword">ASC</span>, c2 <span class="keyword">DESC</span>;</span><br></pre></td></tr></table></figure>

<h5 id="åœºæ™¯"><a href="#åœºæ™¯" class="headerlink" title="åœºæ™¯"></a>åœºæ™¯</h5><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŸ¥å‡ºè¡¨ä¸­æœ‰é‡å¤çš„ id çš„è®°å½•ï¼Œå¹¶è®¡ç®—ç›¸åŒ id çš„æ•°é‡</span></span><br><span class="line"><span class="keyword">SELECT</span> user_id,<span class="keyword">COUNT</span>(user_id) <span class="keyword">FROM</span> games <span class="keyword">GROUP</span> <span class="keyword">BY</span> user_id <span class="keyword">HAVING</span> (<span class="keyword">COUNT</span>(user_id)&gt;<span class="number">1</span>)</span><br><span class="line"><span class="comment"># åˆé›† åˆå¹¶ Helpers è¡¨å’Œ Games è¡¨ çš„ user_id å­—æ®µ (ALL æ˜¯ä¸å»é‡)</span></span><br><span class="line"><span class="keyword">SELECT</span> user_id <span class="keyword">FROM</span> games <span class="keyword">UNION</span> <span class="keyword">ALL</span> <span class="keyword">SELECT</span> assistance_user_id <span class="keyword">FROM</span> helpers;</span><br><span class="line"><span class="comment"># ç»Ÿè®¡ä¸Šè¡¨ä¸­çš„å­—æ®µé‡å¤çš„æ¬¡æ•°</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">count</span>,<span class="keyword">COUNT</span>(<span class="keyword">count</span>) <span class="keyword">FROM</span> (<span class="keyword">SELECT</span> user_id,<span class="keyword">COUNT</span>(user_id) <span class="keyword">FROM</span> (<span class="keyword">SELECT</span> user_id <span class="keyword">FROM</span> games <span class="keyword">UNION</span> <span class="keyword">ALL</span> <span class="keyword">SELECT</span> assistance_user_id <span class="keyword">FROM</span> helpers ) <span class="keyword">AS</span> foo;</span><br></pre></td></tr></table></figure>

<h3 id="è¿›é˜¶"><a href="#è¿›é˜¶" class="headerlink" title="è¿›é˜¶"></a>è¿›é˜¶</h3><h4 id="å¦‚ä½•ä»-csv-æ–‡ä»¶æ›´æ–°æ•°æ®åˆ°æ•°æ®åº“ï¼Ÿ-ç‚¹å‡»æˆ‘"><a href="#å¦‚ä½•ä»-csv-æ–‡ä»¶æ›´æ–°æ•°æ®åˆ°æ•°æ®åº“ï¼Ÿ-ç‚¹å‡»æˆ‘" class="headerlink" title="å¦‚ä½•ä» csv æ–‡ä»¶æ›´æ–°æ•°æ®åˆ°æ•°æ®åº“ï¼Ÿ ç‚¹å‡»æˆ‘"></a>å¦‚ä½•ä» <code>csv</code> æ–‡ä»¶æ›´æ–°æ•°æ®åˆ°æ•°æ®åº“ï¼Ÿ <a href="https://stackoverflow.com/questions/8910494/how-to-update-selected-rows-with-values-from-a-csv-file-in-postgres" target="_blank" rel="noopener">ç‚¹å‡»æˆ‘</a></h4><h4 id="å¦‚æœå°†æŸ¥è¯¢ç»“æœå¯¼å‡ºåˆ°-csv-æ–‡ä»¶"><a href="#å¦‚æœå°†æŸ¥è¯¢ç»“æœå¯¼å‡ºåˆ°-csv-æ–‡ä»¶" class="headerlink" title="å¦‚æœå°†æŸ¥è¯¢ç»“æœå¯¼å‡ºåˆ° csv æ–‡ä»¶"></a>å¦‚æœå°†æŸ¥è¯¢ç»“æœå¯¼å‡ºåˆ° <code>csv</code> æ–‡ä»¶</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">\copy (<span class="keyword">select</span> <span class="keyword">distinct</span> helpers.open_id <span class="keyword">from</span> helpers <span class="keyword">left</span> <span class="keyword">join</span> <span class="keyword">users</span> <span class="keyword">on</span> helpers.open_id = users.open_id  <span class="keyword">where</span> users.open_id <span class="keyword">is</span> <span class="literal">null</span> <span class="keyword">union</span> <span class="keyword">select</span> open_id <span class="keyword">from</span> <span class="keyword">users</span> <span class="keyword">where</span> <span class="keyword">id</span> <span class="keyword">in</span> (<span class="keyword">select</span> user_id <span class="keyword">from</span> exchanges)) <span class="keyword">TO</span> <span class="string">'/tmp/rm_openid.csv'</span> (<span class="keyword">format</span> CSV);</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">\copy (<span class="keyword">select</span> union_id  <span class="keyword">From</span> <span class="keyword">users</span> <span class="keyword">where</span> open_id <span class="keyword">is</span> <span class="literal">null</span>) <span class="keyword">TO</span> <span class="string">'/tmp/filename.csv'</span> (<span class="keyword">format</span> CSV);</span><br></pre></td></tr></table></figure>

<h4 id="æ•°æ®åº“å¤‡ä»½"><a href="#æ•°æ®åº“å¤‡ä»½" class="headerlink" title="æ•°æ®åº“å¤‡ä»½"></a>æ•°æ®åº“å¤‡ä»½</h4><p><strong>å¤‡ä»½æ•°æ®åº“æ•°æ®</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">pg_dump <span class="comment">--host åœ°å€ --port ç«¯å£ --username æ•°æ®åº“çš„ç”¨æˆ·å &gt; å¯¼å‡ºçš„æ–‡ä»¶ æ•°æ®åº“åå­—</span></span><br><span class="line"></span><br><span class="line">ä¾‹å­:</span><br><span class="line"></span><br><span class="line">pg_dump <span class="comment">--host xxxxx.com --port 3434 --username admin  &gt; file.sql dataname</span></span><br></pre></td></tr></table></figure>
<p><strong>æ•°æ®å¯¼å…¥æ•°æ®åº“</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">psql -d æ•°æ®åº“åå­— -f æ–‡ä»¶å ç”¨æˆ·å</span><br><span class="line"></span><br><span class="line">ä¾‹å­:</span><br><span class="line"></span><br><span class="line">psql -d dataname -f file.sql admin</span><br></pre></td></tr></table></figure>

<h4 id="è”è¡¨æŸ¥è¯¢"><a href="#è”è¡¨æŸ¥è¯¢" class="headerlink" title="è”è¡¨æŸ¥è¯¢"></a>è”è¡¨æŸ¥è¯¢</h4><p>å°†æ¥è¡¥å……</p>
<h4 id="ç”¨æˆ·ã€è§’è‰²ã€æƒé™ç®¡ç†"><a href="#ç”¨æˆ·ã€è§’è‰²ã€æƒé™ç®¡ç†" class="headerlink" title="ç”¨æˆ·ã€è§’è‰²ã€æƒé™ç®¡ç†"></a>ç”¨æˆ·ã€è§’è‰²ã€æƒé™ç®¡ç†</h4><p><a href="http://www.jianshu.com/p/b09d0b29faa9" target="_blank" rel="noopener">PostgreSQLå­¦ä¹ ç¬”è®°(ä¹) ç”¨æˆ·ã€è§’è‰²ã€æƒé™ç®¡ç†</a></p>
<p>åˆ›å»ºç”¨æˆ·å¹¶èµ‹äºˆæƒé™</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">CREATE USER www WITH PASSWORD 'u867#eDgg6#2@elo098OIUh';</span><br><span class="line"></span><br><span class="line">CREATE DATABASE my_app_prod OWNER www;</span><br><span class="line"></span><br><span class="line">alter role www login createdb;</span><br></pre></td></tr></table></figure>

<h4 id="æŠ¥é”™è§£å†³"><a href="#æŠ¥é”™è§£å†³" class="headerlink" title="æŠ¥é”™è§£å†³"></a>æŠ¥é”™è§£å†³</h4><p>1ã€macOS postgres è§’è‰²ä¸å­˜åœ¨</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">** (Postgrex.Error) FATAL 28000 (invalid_authorization_specification): role "postgres" does not exist</span><br></pre></td></tr></table></figure>

<p><strong>è§£å†³</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">psql -d postgres</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> postgres <span class="keyword">WITH</span> OWNER postgres;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> postgres SUPERUSER;</span><br></pre></td></tr></table></figure>

<p>2ã€å‡çº§ç‰ˆæœ¬åï¼Œæ•°æ®åº“æ— æ³•å¯åŠ¨</p>
<p>æŠ¥é”™å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">could not connect to server: No such file or directory</span><br><span class="line">Is the server running locally and accepting</span><br><span class="line">connections on Unix domain socket &quot;&#x2F;tmp&#x2F;.s.PGSQL.5432&quot;?</span><br><span class="line"></span><br><span class="line">FATAL:  database files are incompatible with server</span><br></pre></td></tr></table></figure>

<p>è§£å†³ï¼š</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">brew postgresql-upgrade-database</span><br></pre></td></tr></table></figure>



<h2 id="æ‰©å±•é˜…è¯»"><a href="#æ‰©å±•é˜…è¯»" class="headerlink" title="æ‰©å±•é˜…è¯»"></a>æ‰©å±•é˜…è¯»</h2><p><a href="http://www.infoq.com/cn/news/2013/12/mysql-vs-postgresql" target="_blank" rel="noopener">MySQLä¸PostgreSQLï¼šè¯¥é€‰æ‹©å“ªä¸ªå¼€æºæ•°æ®åº“ï¼Ÿå“ªä¸€ä¸ªæ›´å¥½ï¼Ÿ</a></p>
<p><a href="http://www.infoq.com/cn/news/2015/03/why-postgresql-not-mysql" target="_blank" rel="noopener">ä¸ºä»€ä¹ˆé€‰æ‹©PostgreSQLè€Œä¸æ˜¯MySQL</a></p>

      </div>
        <div class="support-author">
          <p>æ„Ÿè°¢æ‚¨çš„é˜…è¯»ã€‚ ğŸ™
            <a href="https://hufangyun.com/2018/copyright-reprinted/" target="_blank">å…³äºè½¬è½½è¯·çœ‹è¿™é‡Œ</a>
            <!--<a class="btn-pay"  href="#pay-modal">Â¥ æ‰“èµæ”¯æŒ</a>-->
          </p>
        </div>
        <!--
            <div class="like ">
              <div class="like-button">
                <a id="like-note" href="">
                  <i class="icon-heart"></i>å–œæ¬¢
                </a>
              </div>
              <span id="likes-count">256</span>
            </div>
        -->
        <div class="otherLink">
          <div class="previous">
          </div>
          <div class="next">
          </div>
        </div>
        <div class="comments" id="comments">
          
<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script type="text/javascript">
  const gitalk = new Gitalk({
    clientID: '3b064dc018768ed172b8',
    clientSecret: '403c6f397465f7fa14cfb02668011929102421d1',
    repo: 'Youthink.github.io',
    owner: 'Youthink',
    admin: ['Youthink'],
    id: location.pathname,      // Ensure uniqueness and length less than 50
    distractionFreeMode: false  // Facebook-like distraction free mode
  })

  gitalk.render('comments');
</script>


        </div>
      </div>
    </div>
   </div>
</main>
<div class="footer">
  <div class="info">
    <p>
    ä¸ƒç‰›äº‘åŠ é€Ÿ | <a href="https://hexo.io"> Hexo </a> å¼ºåŠ›é©±åŠ¨ |
      <a href="https://github.com/Youthink/hexo-themes-yearn"> Yearn </a>
      ä¸»é¢˜
    </p>
      <p>&copy;2013-2024 èƒ¡æ–¹è¿çš„åšå®¢ é²ICPå¤‡15009509å·</p>
  </div>
</div>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<script>var consoleConfig="\næ¬¢è¿è®¿é—® https://hufangyun.com ï¼Œå›´è§‚æˆ‘çš„åšå®¢(ã¥ï½¡â—•â€¿â€¿â—•ï½¡)ã¥ï¼\n,\næœ¬åšå®¢ä½¿ç”¨ %cHexo%c æ­å»ºï¼Œåšå®¢ä¸»é¢˜ä¸ºæœ¬äººå¼€å‘çš„ %chexo-themes-yearn%c ~~~ ğŸ‰ğŸ‰ğŸ‰ \n\næºç  https://github.com/imfycc/hexo-themes-yearn \n\nå¦‚æœå–œæ¬¢å¯ä»¥ star æ”¯æŒä¸€ä¸‹ â¤ï¸~\n,\næ‰«æä¸‹é¢çš„äºŒç»´ç ï¼Œåœ¨æ‰‹æœºä¸ŠæŸ¥çœ‹åšå®¢ï¼\n,https://static.hufangyun.com/blog-url-qrcode-180-180.png,\n æƒ³çŸ¥é“è¿™ä¸ªæ•ˆæœå¦‚ä½•å®ç°çš„ï¼Ÿåšå®¢å†…æœç´¢ console å½©è›‹ ğŸš€ ï¼\n".split(","),canConsole= true,consoleInfo=function(o){if(canConsole&&o&&!(o.length<1)){var f,n="#6190e8",d="padding: 1px 5px;color: #fff;background: "+n+";",s="color: "+n+";";o.map((o=>{var n=(o.match(/%c/g)||[]).length;if(/^http(s)?:\/\//.test(o))console.log("%c     ","background: url("+o+") no-repeat left center;font-size: 180px;");else if(n>0){for(var c=[],e=0;e<n;e++)e%2==0?c.push(d):c.push(s);(f=console).log.apply(f,["%c"+o,s].concat(c))}else console.log("%c"+o,s)}))}}(consoleConfig)</script><script type="text/javascript" src="/./js/main.b5295b.js"></script>

</body>
</html>

