<div class="main-container">
    <div class="left-aside">
        <div class="face-img"><img src="<%=theme.avatar%>"></div>
        <div class="intro-word">
            <h2><%=theme.author%></h2>
            <p><%=theme.description%></p>
        </div>
        <div class="sns">
            <ul>
                <% for (var i in theme.subnav){ %>
                <li>
                    <a class="<%= i %>" target="_blank" href="<%- url_for(theme.subnav[i]) %>" title="<%= i %>">
                        <img src="<%= config.root %>./img/icon-<%= i %>.png" alt="<%= i %>" data-tooltip="<%= i %>">
                    </a>
                </li>
                <%}%>
            </ul>
        </div>
    </div>
    <div class="middle-aside">
        <div class="middle-main">
            <div class="category">
                <ul>
                    <li><a href="<%- config.root %>" class="<%- is_home() ? "active" : null %>">最新</a></li>
                    <%
                    const categoryOrder = config.category_order || [];
                    const sortedCategories = [];
                    categoryOrder.forEach(categoryName => {
                        site.categories.forEach(category => {
                            if (category.name === categoryName) {
                                sortedCategories.push(category);
                            }
                        });
                    });
                    site.categories.forEach(category => {
                        if (!categoryOrder.includes(category.name)) {
                            sortedCategories.push(category);
                        }
                    });
                    sortedCategories.forEach((item) => {
                    %>
                        <li><a href="<%- config.root %><%- item.path %>" class="<%- is_current(item.path)? "active" : null %>"><%= item.name %></a></li>
                    <% }) %>
                </ul>
            </div>
            <div class="list">
                <div>
                    <% if (is_current("categories/hot/")) {
                        page.posts.sort('order').each(function(post, index){ %>
                            <%- partial('_partial/post/title',{post: post,index: true}) %>
                    <% }) } else { %>
                    <% page.posts.each(function(post, index){ %>
                            <%- partial('_partial/post/title',{post: post,index: true}) %>
                    <% }) } %>
                    <%- partial('_partial/paginator') %>
                </div>
            </div>
            <div class="hosted">
              <ul>
                <li class="coding">
                  <a href="https://coding.net/pages" target="_blank">
                    <img src="<%= config.root %>./img/coding.png">
                  </a>
                </li>
                <li class="github-pages">
                  <a href="https://pages.github.com" target="_blank">
                    <img src="<%= config.root %>./img/github-pages.png">
                  </a>
                </li>
                <li class="website-info">
                    <a href="https://beian.miit.gov.cn/" target="_blank">
                        &copy;<%= theme.copyright_date %> <%= theme.beian_info %>
                    </a>
                  </li>
              </ul>
            </div>
        </div>
    </div>
    <div class="right-aside">
        <div class="search">
            <input type="search"  id="search" class="input-search" placeholder="搜索">
            <i class="icon-search"></i>
            <div class="search-result-box">
              <ul id="search-result">
              </ul>
            </div>
        </div>
        <div class="aside-box about-me">
            <h3>关于我</h3>
            <div class="content">
                <div class="hello">
                    <p><span>👋</span>你好，我是方运</p>
                </div>
                <p><span>🧱</span>主业前端研发，Nodejs 全栈方向</p>
                <p><span>🍎</span>副业 Apple 生态独立开发者</p>
                <p><span>😺</span>喵星人铲屎官，有两位猫咪好友陪伴</p>
                <p><span>🦄</span>希望未来可以更自由一点</p>
    
                <div class="more">
                    <p><span>👉</span><a href="<%- url_for('/2014/aboutme/') %>">点击查看更多</a></p>
                </div>
            </div>
        </div>
        <div class="aside-box  my-app">
            <h3>我的 App</h3>
            <div class="content">
                <a class="app" href="https://apps.apple.com/zh/app/betterwe-habit-todo-wish/id6560117527">
                    <img src="<%= config.root %>./img/better-we.png" alt="BetterWe App logo">
                    <div class="info">
                        <p class="name">BetterWe - 积累积分 · 兑换心愿</p>
                        <p class="description">习惯 · 待办 · 积分 · 心愿</p>
                    </div>
                </a>
                <div class="line"></div>
                <a class="app" href="https://apps.apple.com/zh/app/%E9%83%BD%E8%AE%B0%E5%BE%97/id6477067769">
                    <img src="<%= config.root %>./img/any-remember.png" alt="BetterWe App logo">
                    <div class="info">
                        <p class="name">时光鸡 - 纪念日·轮播提醒</p>
                        <p class="description">时刻提醒重要日子</p>
                    </div>
                </a>
            </div>
        </div>
    </div>
</div>

<script>
  var homeLeftBgArr = '<%- theme.leftBackground %>'.split(',');
  var homeLeftBgArrLen = homeLeftBgArr.length;
  var leftBackgroundUrl = homeLeftBgArr[Math.floor(Math.random() * homeLeftBgArrLen)];
  var homeLeftAsideNode = document.getElementsByClassName('left-aside')[0];
  if (homeLeftAsideNode) {
    homeLeftAsideNode.style.backgroundImage = 'url(' + leftBackgroundUrl + ')';
  }
</script>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
</script>
<%- partial('_partial/script.ejs') %>
